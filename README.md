# 選択肢比較支援ツール

複数の選択肢を多観点で評価し、最適な選択を支援する Single Page Application（SPA）です。

## 概要

このアプリケーションは、ユーザーが複数の選択肢を様々な観点から評価し、重み付けによる総合スコアで最適な選択肢を見つけることを支援します。直感的なエクセル風 UI と、リアルタイムな可視化機能を提供します。

## 主要機能

### 1. データ入力機能

#### 選択肢管理

- 選択肢の追加・編集・削除（数量制限なし）
- 選択肢名の一覧表示
- **ドラッグ&ドロップによる並び替え機能**
- 順序の保存・復元

#### 観点管理

- 比較観点の追加・編集・削除（数量制限なし）
- 観点ごとの重み設定（1-10 の数値入力）
- 重み設定の視覚的確認
- **ドラッグ&ドロップによる並び替え機能**
- 順序の保存・復元

#### 評価入力

- 各選択肢 × 各観点の評価を 5 段階（1-5）で入力
- エクセル風のセル編集 UI
- キーボードナビゲーション対応
- 入力値のリアルタイム反映

### 2. 可視化機能

#### レーダーチャート

- 観点ごとの重みを視覚化
- 重み変更時のリアルタイム更新
- インタラクティブな表示

#### 積み上げ棒グラフ

- 各選択肢の最終スコア内訳表示
- 観点別の貢献度を色分け表示
- ツールチップによる詳細情報表示

### 3. 結果表示機能

#### スコアランキング

- 選択肢を最終スコア順でソート表示
- 各選択肢の詳細スコア内訳
- スコア計算ロジックの透明性

#### スコア計算式

```
選択肢のスコア = Σ(観点の評価値 × 観点の重み)
```

### 4. データ管理機能

#### ローカルストレージ

- 入力データの自動保存
- セッション間でのデータ保持
- データの復元機能

#### エクスポート機能

- JSON 形式でのデータエクスポート
- CSV 形式での結果エクスポート
- 印刷対応のレポート生成

#### インポート機能

- JSON 形式でのデータインポート
- データの上書き/追加選択

## 技術仕様

### フロントエンド

- **フレームワーク**: モダンな JavaScript フレームワーク（React/Vue.js/Svelte 等）
- **UI コンポーネント**: カスタムエクセル風グリッドコンポーネント
- **チャートライブラリ**: Chart.js または D3.js
- **状態管理**: ローカル状態管理 + LocalStorage

### レスポンシブデザイン

- **デスクトップ**: フル機能表示
- **タブレット**: 横スクロール対応の表形式
- **スマートフォン**: 縦積みレイアウト、スワイプナビゲーション

### パフォーマンス

- **リアルタイム更新**: debounce 処理による最適化
- **大量データ対応**: 仮想スクロール実装検討
- **計算処理**: Web Workers 活用検討（大規模データ時）

## UI/UX 設計

### 画面構成

#### メイン画面レイアウト

```
┌─────────────────────────────────────────┐
│ ヘッダー（タイトル、データ管理ボタン）     │
├─────────────────────────────────────────┤
│ 設定エリア                               │
│ ├ 選択肢管理                            │
│ └ 観点・重み管理                        │
├─────────────────────────────────────────┤
│ 評価入力テーブル（エクセル風UI）          │
│ ┌─────┬────┬────┬────┬────┐        │
│ │     │観点1│観点2│観点3│...  │        │
│ ├─────┼────┼────┼────┼────┤        │
│ │選択肢1│ 3  │ 4  │ 2  │...  │        │
│ │選択肢2│ 5  │ 2  │ 4  │...  │        │
│ │...   │... │... │... │...  │        │
│ └─────┴────┴────┴────┴────┘        │
├─────────────────────────────────────────┤
│ 結果表示エリア                           │
│ ├ レーダーチャート（重み可視化）          │
│ ├ 積み上げ棒グラフ（スコア内訳）          │
│ └ ランキング表                           │
└─────────────────────────────────────────┘
```

### 操作フロー

1. 選択肢と観点の設定
2. **ドラッグ&ドロップによる順序調整**
3. 観点ごとの重み設定
4. 評価値の入力（エクセル風操作）
5. リアルタイムでの結果確認
6. データの保存・エクスポート

### アクセシビリティ

- キーボードナビゲーション完全対応
- **ドラッグ&ドロップのキーボード操作対応**
- スクリーンリーダー対応
- 高コントラストモード対応
- フォーカス表示の明確化

## データ構造

### プロジェクトデータ

```json
{
  "id": "project_uuid",
  "name": "プロジェクト名",
  "createdAt": "2025-07-21T10:00:00Z",
  "updatedAt": "2025-07-21T15:30:00Z",
  "options": [
    {
      "id": "option_uuid",
      "name": "選択肢名"
    }
  ],
  "criteria": [
    {
      "id": "criteria_uuid",
      "name": "観点名",
      "weight": 7
    }
  ],
  "evaluations": {
    "option_uuid": {
      "criteria_uuid": 4
    }
  },
  "results": {
    "option_uuid": {
      "totalScore": 85.5,
      "breakdown": {
        "criteria_uuid": 28
      }
    }
  }
}
```

## 今後の拡張予定

### Phase 2 機能

- プロジェクトの複数管理
- チーム共有機能
- テンプレート機能
- グラフのカスタマイズ

### Phase 3 機能

- AI による観点提案
- 過去データとの比較分析
- 詳細レポート生成
- API 連携機能

## 開発環境

### 必要な技術スタック

- Node.js (v18 以上推奨)
- パッケージマネージャー (npm/yarn/pnpm)
- モダンブラウザ対応

### 開発手順

1. プロジェクトのセットアップ
2. 基本 UI コンポーネントの実装
3. データ管理機能の実装
4. 可視化機能の実装
5. レスポンシブ対応
6. テスト・最適化

## ライセンス

MIT License

---

## 貢献

プルリクエストやイシューの報告を歓迎します。開発に参加される場合は、まずイシューで議論をお願いします。
